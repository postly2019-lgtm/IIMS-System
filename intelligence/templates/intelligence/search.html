{% extends 'intelligence/base.html' %}

{% block content %}
<div class="glass-panel p-6 mb-8">
    <h2 class="text-xl font-bold mb-2">Ø¨Ø­Ø« Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§ØªÙŠ Ù…ØªÙ‚Ø¯Ù…</h2>
    <div class="brand-bar mb-4"></div>
    <form method="get" class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <!-- Search Term -->
        <div class="col-span-2">
            <label class="block text-xs mb-1" style="color: var(--muted)">ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¨Ø­Ø« / Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª</label>
            <input type="text" name="q" value="{{ query }}" 
                   class="w-full rounded p-2 outline-none"
                   style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border)"
                   placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†ØŒ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŒ Ø£Ùˆ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª...">
        </div>

        <!-- Source Filter -->
        <div>
            <label class="block text-xs mb-1" style="color: var(--muted)">Ø§Ù„Ù…ØµØ¯Ø±</label>
            <select name="source" class="w-full rounded p-2" style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border)">
                <option value="">Ø§Ù„ÙƒÙ„</option>
                {% for src in sources %}
                <option value="{{ src.id }}">{{ src.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Classification Filter -->
        <div>
            <label class="block text-xs mb-1" style="color: var(--muted)">Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø£Ù…Ù†ÙŠ</label>
            <select name="classification" class="w-full rounded p-2" style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border)">
                <option value="">Ø§Ù„ÙƒÙ„</option>
                {% for code, label in classifications %}
                <option value="{{ code }}">{{ label }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Date Range -->
        <div>
            <label class="block text-xs mb-1" style="color: var(--muted)">Ù…Ù† ØªØ§Ø±ÙŠØ®</label>
            <input type="date" name="date_from" class="w-full rounded p-2" style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border)">
        </div>
        <div>
            <label class="block text-xs mb-1" style="color: var(--muted)">Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</label>
            <input type="date" name="date_to" class="w-full rounded p-2" style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border)">
        </div>

        <!-- Submit -->
        <div class="flex items-end col-span-2 md:col-span-2">
            <button type="submit" class="w-full font-bold py-2 px-4 rounded transition" style="background-color: var(--primary); color: #031520">
                ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø­Ø«
            </button>
        </div>
    </form>
</div>

<!-- Search Results -->
{% if reports %}
<div class="glass-panel p-6 mb-8">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«</h2>
        <span class="text-sm text-slate-400">{{ reports.count }} Ù†ØªÙŠØ¬Ø©</span>
    </div>
    
    <div class="space-y-4">
        {% for report in reports %}
        <div class="p-4 rounded border border-white/5 bg-white/5 hover:bg-white/10 transition group">
            <div class="flex justify-between items-start">
                <h3 class="font-bold text-lg mb-2">
                    <a href="{% url 'report_detail' report.id %}" class="text-cyan-400 hover:text-cyan-300 transition">
                        {{ report.title }}
                    </a>
                </h3>
                <span class="text-xs px-2 py-1 rounded bg-slate-800 text-slate-300 border border-slate-700">
                    {{ report.get_classification_display }}
                </span>
            </div>
            
            <div class="flex items-center gap-4 text-xs text-slate-400 mb-3">
                <span class="flex items-center gap-1">
                    <span>ğŸ“…</span> {{ report.published_at|date:"Y-m-d H:i" }}
                </span>
                <span class="flex items-center gap-1">
                    <span>ğŸ“°</span> {{ report.source.name }}
                </span>
            </div>
            
            <p class="text-sm text-slate-300 line-clamp-2 mb-3 opacity-80">
                {{ report.content|striptags|truncatewords:30 }}
            </p>
            
            <div class="flex items-center justify-between mt-2">
                <div class="flex gap-2">
                    {% for entity in report.entities.all|slice:":3" %}
                    <span class="text-xs px-2 py-0.5 rounded bg-blue-900/30 text-blue-300 border border-blue-900/50">
                        {{ entity.name }}
                    </span>
                    {% endfor %}
                </div>
                
                <a href="{% url 'report_detail' report.id %}" class="text-xs text-cyan-500 hover:text-cyan-400 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition">
                    Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ â¬…
                </a>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if reports.has_other_pages %}
    <div class="flex justify-center mt-8 pt-4 border-t border-white/10">
        <div class="flex items-center gap-2">
            {% if reports.has_previous %}
            <a href="?page={{ reports.previous_page_number }}{% if query %}&q={{ query }}{% endif %}{% if request.GET.source %}&source={{ request.GET.source }}{% endif %}{% if request.GET.classification %}&classification={{ request.GET.classification }}{% endif %}{% if request.GET.date_from %}&date_from={{ request.GET.date_from }}{% endif %}{% if request.GET.date_to %}&date_to={{ request.GET.date_to }}{% endif %}" 
               class="px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded border border-slate-700 transition text-sm">
               Ø§Ù„Ø³Ø§Ø¨Ù‚
            </a>
            {% endif %}

            <span class="px-4 py-2 text-slate-400 text-sm font-mono dir-ltr">
                {{ reports.number }} / {{ reports.paginator.num_pages }}
            </span>

            {% if reports.has_next %}
            <a href="?page={{ reports.next_page_number }}{% if query %}&q={{ query }}{% endif %}{% if request.GET.source %}&source={{ request.GET.source }}{% endif %}{% if request.GET.classification %}&classification={{ request.GET.classification }}{% endif %}{% if request.GET.date_from %}&date_from={{ request.GET.date_from }}{% endif %}{% if request.GET.date_to %}&date_to={{ request.GET.date_to }}{% endif %}" 
               class="px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded border border-slate-700 transition text-sm">
               Ø§Ù„ØªØ§Ù„ÙŠ
            </a>
            {% endif %}
        </div>
    </div>
    {% endif %}

</div>
{% elif query %}
<div class="glass-panel p-8 text-center mb-8">
    <div class="text-4xl mb-2">ğŸ”</div>
    <h3 class="text-xl font-bold mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</h3>
    <p class="text-slate-400">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ ØªÙ‚Ø§Ø±ÙŠØ± ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«.</p>
</div>
{% endif %}

<!-- Live Ingestion Panel (Batch Processing) -->
<div class="glass-panel p-6 mb-8 border-r-4" style="border-right-color: var(--accent);">
    <div class="flex justify-between items-center cursor-pointer" onclick="document.getElementById('ingestForm').classList.toggle('hidden')">
        <h3 class="text-lg font-bold flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
            Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ù…ØµØ§Ø¯Ø± Ø­ÙŠØ© (Live Operations)
        </h3>
        <span class="text-xs px-2 py-1 rounded border" style="color: var(--muted); border-color: var(--border)">â–¼</span>
    </div>
    
    <div id="ingestForm" class="hidden mt-4 pt-4 border-t" style="border-color: var(--border)">
        <p class="text-sm mb-3" style="color: var(--muted)">
            Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (Ø±Ø§Ø¨Ø· ÙˆØ§Ø­Ø¯ ÙÙŠ ÙƒÙ„ Ø³Ø·Ø±). Ø§Ù„Ù†Ø¸Ø§Ù… Ø³ÙŠÙ‚ÙˆÙ… Ø¨Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ Ø¹Ù„Ù‰ Ø¯ÙØ¹Ø§Øª (5 Ø±ÙˆØ§Ø¨Ø· ÙÙŠ ÙƒÙ„ Ø¯ÙØ¹Ø©).
        </p>
        
        <form action="{% url 'fetch_urls' %}" method="post" id="urlFetchForm" class="space-y-4">
            {% csrf_token %}
            
            <!-- Query Field -->
            <div>
                <label class="block text-xs mb-1" style="color: var(--primary); font-weight: bold;">Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¨Ø­Ø« / ÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ© Ù„Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬</label>
                <input type="text" name="fetch_query" 
                       class="w-full rounded p-2 outline-none"
                       style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border); color: var(--text);"
                       placeholder="Ù…Ø«Ø§Ù„: ØªØ­Ø±ÙƒØ§Øª Ø¹Ø³ÙƒØ±ÙŠØ©ØŒ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù†ÙØ·ØŒ Ø§Ø³Ù… Ø´Ø®ØµÙŠØ©...">
                <p class="text-[10px] mt-1 opacity-70">Ø³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ¬Ù„Ø¨ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ù‡Ø§.</p>
            </div>

            <!-- URL Entry UI -->
            <div class="grid grid-cols-1 md:grid-cols-12 gap-2">
                <div class="md:col-span-10">
                    <input type="url" id="singleUrlInput" 
                           class="w-full rounded p-2 outline-none dir-ltr text-left"
                           style="background-color: rgba(13,19,32,0.8); border: 1px solid var(--border); color: #a7f3d0;"
                           placeholder="https://example.com/news/article...">
                </div>
                <div class="md:col-span-2">
                    <button type="button" onclick="addUrl()" class="w-full h-full rounded font-bold transition hover:opacity-90"
                            style="background-color: var(--primary); color: #031520">
                        Ø¥Ø¶Ø§ÙØ© +
                    </button>
                </div>
            </div>

            <!-- Visual List of URLs -->
            <div id="urlListVisual" class="space-y-2 max-h-48 overflow-y-auto custom-scrollbar p-2 rounded" style="background: rgba(0,0,0,0.2);">
                <div id="emptyMsg" class="text-center text-xs opacity-50 py-4">Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±ÙˆØ§Ø¨Ø· Ø¨Ø¹Ø¯</div>
            </div>
            
            <div class="flex justify-between items-center text-xs text-slate-400 px-2">
                <span id="urlCount">0 / 50 Ø±Ø§Ø¨Ø·</span>
                <button type="button" onclick="clearUrls()" class="text-red-400 hover:underline">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
            </div>

            <!-- Progress & Logs Section -->
            <div id="processingArea" class="hidden mt-4 p-4 rounded border border-white/10" style="background: rgba(0,0,0,0.3);">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-xs font-bold text-cyan-400">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...</span>
                    <span id="batchProgress" class="text-xs font-mono">0/0</span>
                </div>
                <!-- Progress Bar -->
                <div class="w-full bg-slate-800 rounded-full h-1.5 mb-3">
                    <div id="progressBar" class="bg-cyan-500 h-1.5 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
                <!-- Log Console -->
                <div id="processLog" class="h-32 overflow-y-auto font-mono text-[10px] space-y-1 p-2 rounded bg-black/40 text-slate-300 custom-scrollbar dir-ltr text-left">
                    <!-- Logs injected here -->
                </div>
            </div>

            <div class="flex justify-end pt-2">
                <button type="button" onclick="startBatchProcessing()" id="startBtn" class="px-6 py-2 rounded font-bold flex items-center gap-2 transition hover:opacity-90" 
                        style="background-color: var(--accent); color: #064e3b">
                    <span>âš¡</span>
                    Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© (Batch Process)
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    let urlList = [];
    let isProcessing = false;

    // Allow Enter key to add URL
    document.getElementById('singleUrlInput').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            addUrl();
        }
    });

    function addUrl() {
        const input = document.getElementById('singleUrlInput');
        let url = input.value.trim();
        
        if (!url) return;
        
        // Basic validation
        if (!url.startsWith('http')) {
            url = 'https://' + url;
        }

        try {
            new URL(url); // Validate URL format
        } catch (_) {
            alert('Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­');
            return;
        }

        if (urlList.includes(url)) {
            alert('Ø§Ù„Ø±Ø§Ø¨Ø· Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');
            return;
        }

        if (urlList.length >= 50) {
            alert('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 50 Ø±Ø§Ø¨Ø·');
            return;
        }

        urlList.push(url);
        input.value = '';
        renderUrlList();
    }

    function removeUrl(index) {
        if(isProcessing) return;
        urlList.splice(index, 1);
        renderUrlList();
    }
    
    function clearUrls() {
        if(isProcessing) return;
        urlList = [];
        renderUrlList();
    }

    function renderUrlList() {
        const container = document.getElementById('urlListVisual');
        const countSpan = document.getElementById('urlCount');
        
        countSpan.innerText = `${urlList.length} / 50 Ø±Ø§Ø¨Ø·`;

        // Clear container safely
        container.textContent = '';

        if (urlList.length === 0) {
            const emptyDiv = document.createElement('div');
            emptyDiv.id = 'emptyMsg';
            emptyDiv.className = 'text-center text-xs opacity-50 py-4';
            emptyDiv.innerText = 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±ÙˆØ§Ø¨Ø· Ø¨Ø¹Ø¯';
            container.appendChild(emptyDiv);
            return;
        }

        urlList.forEach((url, index) => {
            const div = document.createElement('div');
            div.className = 'flex justify-between items-center p-2 rounded text-xs bg-white/5 border border-white/10 animate-fade-in';
            
            const span = document.createElement('span');
            span.className = 'truncate dir-ltr font-mono opacity-80';
            span.innerText = url;
            
            const btn = document.createElement('button');
            btn.type = 'button';
            btn.className = 'text-red-400 hover:text-red-300 font-bold px-2';
            btn.innerText = 'âœ•';
            if (isProcessing) btn.disabled = true;
            btn.onclick = () => removeUrl(index);
            
            div.appendChild(span);
            div.appendChild(btn);
            container.appendChild(div);
        });
    }

    // Batch Processing Logic
    async function startBatchProcessing() {
        if (urlList.length === 0) {
            alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø±ÙˆØ§Ø¨Ø· Ø£ÙˆÙ„Ø§Ù‹");
            return;
        }
        
        const fetchQuery = document.querySelector('input[name="fetch_query"]').value;
        const BATCH_SIZE = 5;
        const totalUrls = urlList.length;
        let processedCount = 0;

        // UI Setup
        isProcessing = true;
        const startBtn = document.getElementById('startBtn');
        startBtn.disabled = true;
        startBtn.classList.add('opacity-50', 'cursor-not-allowed');
        
        // Update button content safely
        startBtn.textContent = '';
        const spinIcon = document.createElement('span');
        spinIcon.innerText = 'â³';
        startBtn.appendChild(spinIcon);
        startBtn.appendChild(document.createTextNode(' Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„...'));
        
        document.getElementById('processingArea').classList.remove('hidden');
        document.getElementById('singleUrlInput').disabled = true;
        
        const logContainer = document.getElementById('processLog');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('batchProgress');
        
        logContainer.innerHTML = ''; // Clear logs
        addLog("Initializing batch processor...", 'info');
        addLog(`Total URLs: ${totalUrls} | Batch Size: ${BATCH_SIZE}`, 'info');

        // Chunking
        for (let i = 0; i < totalUrls; i += BATCH_SIZE) {
            const chunk = urlList.slice(i, i + BATCH_SIZE);
            const currentBatchNum = Math.floor(i / BATCH_SIZE) + 1;
            const totalBatches = Math.ceil(totalUrls / BATCH_SIZE);
            
            addLog(`>>> Processing Batch ${currentBatchNum}/${totalBatches} (${chunk.length} URLs)...`, 'info');

            try {
                const response = await fetch("{% url 'fetch_urls' %}", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    body: JSON.stringify({
                        urls: chunk,
                        fetch_query: fetchQuery
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.status === 'success') {
                        addLog(`Batch ${currentBatchNum} Done: ${data.results.success} success, ${data.results.failed} failed`, 'success');
                        
                        // Log specific errors if any
                        if (data.results.errors && data.results.errors.length > 0) {
                            data.results.errors.forEach(err => addLog(`   ! Error: ${err}`, 'error'));
                        }
                    } else {
                        addLog(`Batch ${currentBatchNum} Warning: ${data.message}`, 'warning');
                    }
                } else {
                    addLog(`Batch ${currentBatchNum} Failed: Server returned ${response.status}`, 'error');
                }
            } catch (error) {
                addLog(`Batch ${currentBatchNum} Exception: ${error.message}`, 'error');
            }

            // Update Progress
            processedCount += chunk.length;
            const percentage = (processedCount / totalUrls) * 100;
            progressBar.style.width = `${percentage}%`;
            progressText.innerText = `${processedCount}/${totalUrls}`;

            // Small delay between batches
            if (processedCount < totalUrls) {
                addLog("Waiting 1s before next batch...", 'info');
                await new Promise(r => setTimeout(r, 1000));
            }
        }

        addLog("ALL OPERATIONS COMPLETED.", 'success');
        
        startBtn.textContent = '';
        const checkIcon = document.createElement('span');
        checkIcon.innerText = 'âœ“';
        startBtn.appendChild(checkIcon);
        startBtn.appendChild(document.createTextNode(' Ø§ÙƒØªÙ…Ù„'));
        
        // Refresh page after a delay to show results
        setTimeout(() => {
            window.location.reload();
        }, 2500);
    }

    function addLog(msg, type) {
        const div = document.createElement('div');
        const time = new Date().toLocaleTimeString('en-US', {hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit'});
        
        let colorClass = 'text-blue-300';
        if (type === 'error') colorClass = 'text-red-400';
        if (type === 'success') colorClass = 'text-green-400';
        if (type === 'warning') colorClass = 'text-yellow-400';

        div.className = `${colorClass}`;
        div.innerText = `[${time}] ${msg}`;
        
        const logContainer = document.getElementById('processLog');
        logContainer.appendChild(div);
        logContainer.scrollTop = logContainer.scrollHeight;
    }
</script>

<style>
    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.1);
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255,255,255,0.1);
        border-radius: 3px;
    }
    .animate-fade-in {
        animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-5px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

<!-- Results -->
<div class="glass-panel p-6">
    <h3 class="text-sm mb-4" style="color: var(--muted)">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« ({{ reports.count }})</h3>
    <div class="space-y-4">
        {% for report in reports %}
        <div onclick="window.location.href='{% url 'report_detail' report.id %}'" class="p-4 rounded-lg border cursor-pointer transition" style="background-color: rgba(13,19,32,0.6); border-color: var(--border)">
            <div class="flex justify-between items-start mb-2">
                <div class="flex items-center gap-2">
                    <span class="text-[10px] px-2 py-0.5 rounded status-badge-{{ report.classification }} font-bold">
                        {{ report.get_classification_display }}
                    </span>
                    <span class="text-xs" style="color: var(--primary)">{{ report.source.name }}</span>
                </div>
                <span class="text-xs" style="color: var(--muted)">{{ report.published_at|date:"Y-m-d H:i" }}</span>
            </div>
            <h3 class="text-lg font-bold mb-2">{{ report.title }}</h3>
            <p class="text-sm mb-3" style="color: var(--muted)">{{ report.content|truncatechars:300 }}</p>
            
            <!-- Entities Tags -->
            <div class="flex flex-wrap gap-2 mt-2">
                {% for entity in report.entities.all %}
                <span class="text-[10px] px-2 py-1 rounded-full border" style="background-color: rgba(13,19,32,0.8); border-color: var(--border); color: var(--text)">
                    #{{ entity.name }}
                </span>
                {% endfor %}
            </div>
        </div>
        {% empty %}
        <div class="text-center text-slate-500 py-10">
            Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«.
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
